import numpy as np
import matplotlib.pyplot as plt
import networkx as nx
from Change import *

G = nx.Graph()
node = 28
G.add_nodes_from([i for i in range(0, node)])
G.add_edges_from([(0, 2), (0, 21), (1, 6), (2, 3), (3, 22),
                  (4, 9), (4, 23), (4, 24), (4, 10), (4, 5),
                  (5, 16), (5, 27), (5, 7), (6, 7), (7, 8),
                  (8, 9), (9, 16), (11, 19), (11, 12), (12, 17),
                  (12, 20), (13, 16), (13, 20), (13, 14), (14, 15),
                  (15, 16), (17, 18),
                  (21, 25), (22, 27), (25, 26), (26, 27)])
position = {0: [-34.88111, -8.05389], 1: [-35.73528, -9.66583],
            2: [-35.88111, -7.23056], 3: [-34.86306, -7.115],
            4: [-47.92972, -15.77972], 5: [-43.93778, -19.92083],
            6: [-37.07167, -10.91111], 7: [-38.51083, -12.97111],
            8: [-40.33778, -20.31944], 9: [-43.2075, -22.90278],
            10: [-60.025, -3.10194], 11: [-49.25389, -16.67861],
            12: [-56.09667, -15.59611], 13: [-49.27306, -25.42778],
            14: [-51.23, -30.03306], 15: [-48.54917, -27.59667],
            16: [-46.63611, -23.5475], 17: [-63.90389, -8.76194],
            18: [-67.81, -9.97472], 19: [-48.36028, -10.21278],
            20: [-54.64639, -20.44278], 21: [-42.80194, -5.08917],
            22: [-35.20944, -5.795], 23: [-60.67333, 2.81972],
            24: [-51.06639, 0.03889], 25: [-48.50444, -1.45583],
            26: [-44.30278, -2.52972], 27: [-38.54306, -3.71722]}
nx.draw_networkx(G, pos=position)
plt.axis('equal')
plt.show()
distance = np.zeros((node, node))
for i in range(0, node):
    for j in range(0, node):
        if i == j:
            distance[i, j] = 0
        else:
            path = nx.dijkstra_path(G, i, j)
            for k in range(0, len(path) - 1):
                distance[i, j] = distance[i,j] + getDistance(position[path[k]][0], position[path[k]][1],
                                                             position[path[k+1]][0], position[path[k+1]][1])

print(distance)